<?phpdefined('_JEXEC') or die();JImport('b0.Accessory.AccessoryIds');JImport('b0.Product.ProductList');foreach ($this->items as $item) {    $products[] = new ProductList($item, new AccessoryIds, $item->params, $this->appParams);}?><div id="articles" class="uk-margin-top">    <hr class="uk-article-didvider">    <?php foreach ($products as $product):?>        <article class="uk-article uk-visible-hover">            <!-- Панель управления -->			<?php if($product->controls){				echo JLayoutHelper::render('b0.controls-list', $product->controls);			}?>            <!-- Запчасть -->            <h2 class="uk-article-title uk-text-center-small">                <a href="<?= $product->url ?>" target="_blank">					<?= $product->title?>                </a>            </h2>            <div class="uk-grid">                <div class="uk-width-medium-2-10 uk-text-center-small" data-uk-grid-margin>                    <?= $product->image['result'] ?>                </div>                <div class="uk-width-medium-4-10 uk-text-center-small" data-uk-grid-margin>	                <?= JLayoutHelper::render('b0.Product.subtitleList', $product->subtitle) ?>	                <?php $product->renderField($product->manufacturer, 'p');?>                    <ul class="uk-list">	                    <?php $product->renderField($product->vendorCode, 'li');?>	                    <?php $product->renderField($product->model, 'li');?>	                    <?php $product->renderField($product->generation, 'li');?>                    </ul>                </div>                <div class="uk-width-medium-4-10 uk-text-center-small" data-uk-grid-match>	                <?= JLayoutHelper::render('b0.Product.productCode', $product->productCode) ?>                    <div class="uk-panel uk-panel-box uk-vertical-align-middle">                        <?php                        if ($product->isSpecial): ?>                            <p class="b0-price b0-price-special uk-text-danger">		                        <?= $product->priceSpecial['label'] . ' : ' . $product->priceSpecial['result'] ?>                            </p>                            <p class="b0-price b0-price-general">		                        <?= $product->priceGeneral['label'] . ' :  <del>' . $product->priceGeneral['result'] . '</del>'?>                            </p>                            <p>                                Вы экономите <?= $product->renderEconomy($product->priceGeneral['value'], $product->priceSpecial['value'])?>                            </p>                        <?php else:?>                            <p class="b0-price b0-price-general">		                        <?= $product->priceGeneral['label'] . ' : ' . $product->priceGeneral['result'] ?>                            </p>                            <p class="b0-price b0-price-delivery uk-text-danger">		                        <?= $product->priceDelivery['label'] . ' : ' . $product->priceDelivery['result'] ?>                            </p>                            <p>                                Вы экономите <?= $product->renderEconomy($product->priceGeneral['value'], $product->priceDelivery['value'])?>                            </p>                        <?php endif;?>                        <!-- Корзина -->                        <button type="button" class="uk-button uk-width-medium-1-1 <?= $product->cart['inCart'] ? 'uk-button-success' : 'cart-add uk-button-danger'?>"                                id="cart-add<?= $product->id ?>" <?= $product->isByOrder ? 'disabled' : ''?>                                data-item-id = "<?= $product->id ?>">                            <i class="uk-icon-cart-plus uk-margin-right"></i> <?= $product->cart['inCart'] ? 'В корзине' : 'В корзину'?>                        </button>                    </div>                </div>            </div>        </article>	<?php endforeach;?></div><script src="/templates/b0/js/axios-1-5.min.js"></script><script src="/templates/b0/js/vue-2-7-16.js"></script><script>    let elem = document.getElementsByClassName('cart-add');	for (let i = 0; i < elem.length; i++) {		elem[i].addEventListener('click' , cartAdd);    }	function cartAdd(event) {		let target = event.target;        let elemCartCount = document.getElementById('cart-count');        let elemCartCountSmall = document.getElementById('cart-count-small');        //Получаем значения ID элемента и количества		let itemId = target.getAttribute("data-item-id");                target.innerHTML = '<i class="uk-icon-refresh uk-icon-spin"></i>';        axios.get('/index.php?option=com_lscart&task=cart.add&item_id='+itemId+'&item_quantity=1')            .then( (response)=>{                target.innerHTML = '<i class="uk-icon-cart-plus uk-margin-right"></i>В корзине';                target.className='uk-button uk-width-medium-1-1 uk-button-success';                elemCartCount.textContent = String(Number(elemCartCount.textContent) + 1);                elemCartCountSmall.textContent = String(Number(elemCartCountSmall.textContent) + 1);                yaCounterEvent();                dataLayerEvent();            })            .catch( (error)=>{                console.log(error);                confirm(error);            });	}	    function yaCounterEvent() {        if (typeof <?= $product->yandexId ?> !== "undefined" && <?= $product->yandexId ?> !== null) {			<?= $product->yandexId ?>.reachGoal('<?= $product->yandexGoal ?>');        }    }    function dataLayerEvent() {        if (typeof dataLayer !== "undefined" && dataLayer !== null) {            dataLayer.push({'event': '<?= $product->googleGoal ?>'});        }    }</script>